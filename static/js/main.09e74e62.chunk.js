(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{19:function(e,t,n){},20:function(e,t,n){},23:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var r=n(0),s=n(2),a=n.n(s),c=n(12),o=n.n(c),i=n(3),d=n(4),l=n(5),u=n(8),h=n(7),j=(n(19),n(20),"https://mate-api.herokuapp.com");function p(e){return fetch("".concat(j,"/users/").concat(e)).then((function(e){return e.json()})).then((function(e){return e.data}))}var b=n(6),f=n.n(b),m=n(1),v=n.n(m),O=(v.a.bool,v.a.string.isRequired,v.a.number,v.a.func.isRequired,function(e){var t=e.completed,n=e.title,s=e.userId,a=e.handle\u0421hangeUserId;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{type:"checkbox",readOnly:!0,checked:t}),Object(r.jsx)("p",{children:n})]}),Object(r.jsxs)("button",{className:f()("button",{"TodoList__user-button--selected":t}),type:"button",onClick:function(){return a(s)},children:["User #",s]})]})});O.defaultProps={userId:0,completed:!1};var x={showedTodos:v.a.string.isRequired,filterText:v.a.string.isRequired,handleChange:v.a.func.isRequired},g=function(e){var t=e.filterText,n=e.handleChange,s=e.showedTodos;return Object(r.jsxs)("div",{children:[Object(r.jsx)("input",{placeholder:"Search",name:"filterText",value:t,onChange:n}),Object(r.jsxs)("select",{name:"showedTodos",value:s,onChange:n,children:[Object(r.jsx)("option",{value:"all",children:"All"}),Object(r.jsx)("option",{value:"active",children:"Active"}),Object(r.jsx)("option",{value:"completed",children:"Completed"})]})]})},T=n(10),_=(Object(T.a)(Object(T.a)({},x),{},{todos:v.a.arrayOf(v.a.shape({id:v.a.number.isRequired,userId:v.a.number,completed:v.a.bool,title:v.a.string.isRequired}))}),n(23),function(e){var t=e.todos,n=e.filterText,s=e.handleChange,a=e.showedTodos,c=e.handle\u0421hangeUserId;return Object(r.jsxs)("div",{className:"TodoList",children:[Object(r.jsx)("h2",{children:"Todos:"}),Object(r.jsx)(g,{filterText:n,handleChange:s,showedTodos:a}),Object(r.jsx)("div",{className:"TodoList__list-container",children:Object(r.jsx)("ul",{className:"TodoList__list",children:t.map((function(e){var t=e.completed,n=e.id,a=e.title,o=e.userId;return Object(r.jsx)("li",{className:f()("TodoList__item",{"TodoList__item--checked":t,"TodoList__item--unchecked":!t}),children:Object(r.jsx)(O,{completed:t,title:a,userId:o,handleChange:s,"handle\u0421hangeUserId":c})},n)}))})})]})}),I=n(11),U=n.n(I),C=n(13),w=(n(25),v.a.number.isRequired,v.a.func.isRequired,function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={user:{}},e.changeUser=Object(C.a)(U.a.mark((function t(){var n,r;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.userId,t.prev=1,t.next=4,p(n);case 4:r=t.sent,e.setState({user:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.warn(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])}))),e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.changeUser()}},{key:"componentDidUpdate",value:function(e){var t=this.props.userId;e.userId!==t&&this.changeUser()}},{key:"render",value:function(){var e=this.props,t=e.userId,n=e.resetUserId,s=this.state.user,a=s.name,c=s.email,o=s.phone;return Object(r.jsxs)("div",{className:"CurrentUser",children:[Object(r.jsx)("h2",{className:"CurrentUser__title",children:Object(r.jsxs)("span",{children:["Selected user:",t]})}),Object(r.jsx)("h3",{className:"CurrentUser__name",children:a}),Object(r.jsx)("p",{className:"CurrentUser__email",children:c}),Object(r.jsx)("p",{className:"CurrentUser__phone",children:o}),Object(r.jsx)("button",{type:"button",className:"CurrentUser__clear button",onClick:n,children:"Clear"})]})}}]),n}(a.a.Component)),k=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(d.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={todos:[],selectedUserId:0,filterText:"",showedTodos:"all"},e.handle\u0421hangeUserId=function(t){e.setState({selectedUserId:t})},e.handleChange=function(t){var n=t.target,r=n.name,s=n.value;e.setState(Object(i.a)({},r,s))},e.resetUserId=function(){e.setState({selectedUserId:0})},e.getFiltredTodos=function(){var t=e.state,n=t.todos,r=t.filterText,s=t.showedTodos,a={all:function(){return!0},active:function(e){return!e},completed:function(e){return e}};return n.filter((function(e){var t=e.title,n=e.completed,c=t.toLowerCase(),o=r.toLowerCase();return c.includes(o)&&a[s](n)}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(j,"/todos")).then((function(e){return e.json()})).then((function(e){return e.data})).then((function(e){return e.filter((function(e){var t=e.id,n=e.title;return t&&n}))})).then((function(t){e.setState({todos:t})})).catch((function(e){return console.warn(e)}))}},{key:"render",value:function(){var e=this.state,t=e.selectedUserId,n=e.filterText,s=e.showedTodos;return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)("div",{className:"App__sidebar",children:Object(r.jsx)(_,{todos:this.getFiltredTodos(),selectUserId:this.selectUserId,filterText:n,handleChange:this.handleChange,"handle\u0421hangeUserId":this.handle\u0421hangeUserId,showedTodos:s})}),Object(r.jsx)("div",{className:"App__content",children:Object(r.jsx)("div",{className:"App__content-container",children:t?Object(r.jsx)(w,{userId:t,resetUserId:this.resetUserId}):"No user selected"})})]})}}]),n}(a.a.Component);o.a.render(Object(r.jsx)(k,{}),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.09e74e62.chunk.js.map